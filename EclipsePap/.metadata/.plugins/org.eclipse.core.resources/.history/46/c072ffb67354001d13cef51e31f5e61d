<?xml version="1.0" encoding="UTF-8"?>
<xmi:XMI xmi:version="20131001" xmlns:xmi="http://www.omg.org/spec/XMI/20131001" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:Blocks="http://www.eclipse.org/papyrus/sysml/1.6/SysML/Blocks" xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" xmlns:uml="http://www.eclipse.org/uml2/5.0.0/UML" xsi:schemaLocation="http://www.eclipse.org/papyrus/sysml/1.6/SysML/Blocks http://www.eclipse.org/papyrus/sysml/1.6/SysML#//blocks">
  <uml:Model xmi:id="_i9pMsFBiEe2hA76gCq675A" name="Lampara">
    <packageImport xmi:type="uml:PackageImport" xmi:id="_jD7a4FBiEe2hA76gCq675A">
      <importedPackage xmi:type="uml:Model" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#_0"/>
    </packageImport>
    <packageImport xmi:type="uml:PackageImport" xmi:id="_jEZU8FBiEe2hA76gCq675A">
      <importedPackage xmi:type="uml:Package" href="pathmap://SysML16_LIBRARIES/SysML-Standard-Library.uml#SysML.package_packagedElement_Libraries"/>
    </packageImport>
    <packagedElement xmi:type="uml:Package" xmi:id="_puMqwFBzEe2yaNLydTHFqg" name="Disenio">
      <packagedElement xmi:type="uml:Package" xmi:id="_xZrIsFBzEe2yaNLydTHFqg" name="High Level Design">
        <ownedComment xmi:type="uml:Comment" xmi:id="_vNlkAFOGEe2yaNLydTHFqg" annotatedElement="_xZrIsFBzEe2yaNLydTHFqg">
          <body>Iniciar terminal o ventana&#xD;
Admitir inputs y outputs</body>
        </ownedComment>
        <packagedElement xmi:type="uml:Class" xmi:id="_7BjB4FBzEe2yaNLydTHFqg" name="SMA_LAMP">
          <ownedAttribute xmi:type="uml:Property" xmi:id="_3MVOIVOEEe2yaNLydTHFqg" name="pwmventilador" type="_k_rl0FB2Ee2yaNLydTHFqg" association="_3MTY8FOEEe2yaNLydTHFqg"/>
          <ownedAttribute xmi:type="uml:Property" xmi:id="_213ZclOFEe2yaNLydTHFqg" name="ledes sk9822" type="_OFBA4FB2Ee2yaNLydTHFqg" association="_212yYFOFEe2yaNLydTHFqg">
            <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_214AgFOFEe2yaNLydTHFqg"/>
            <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_214AgVOFEe2yaNLydTHFqg" value="1"/>
          </ownedAttribute>
          <ownedAttribute xmi:type="uml:Property" xmi:id="_xiiXQFOIEe2yaNLydTHFqg" name="RuidoBajo">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            <defaultValue xmi:type="uml:LiteralInteger" xmi:id="_8oZ4cFOIEe2yaNLydTHFqg" value="400"/>
          </ownedAttribute>
          <ownedAttribute xmi:type="uml:Property" xmi:id="_yffHsFOIEe2yaNLydTHFqg" name="RuidoMedio">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            <defaultValue xmi:type="uml:LiteralInteger" xmi:id="_CDXFQFOJEe2yaNLydTHFqg" value="900"/>
          </ownedAttribute>
          <ownedAttribute xmi:type="uml:Property" xmi:id="_yn6D4FOIEe2yaNLydTHFqg" name="RuidoMasAltoPorSeg">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            <defaultValue xmi:type="uml:LiteralInteger" xmi:id="_oFAQYFOJEe2yaNLydTHFqg"/>
          </ownedAttribute>
          <ownedAttribute xmi:type="uml:Property" xmi:id="_VvifgFOKEe2yaNLydTHFqg" name="muestrasde10msen1s">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            <defaultValue xmi:type="uml:LiteralInteger" xmi:id="_cdRi0FOKEe2yaNLydTHFqg" value="100"/>
          </ownedAttribute>
          <ownedAttribute xmi:type="uml:Property" xmi:id="_luI0wFOLEe2yaNLydTHFqg" name="valorCO2">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            <defaultValue xmi:type="uml:LiteralInteger" xmi:id="_vr76oFOLEe2yaNLydTHFqg"/>
          </ownedAttribute>
          <ownedAttribute xmi:type="uml:Property" xmi:id="_mnPnAFOLEe2yaNLydTHFqg" name="valorHumedad">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            <defaultValue xmi:type="uml:LiteralInteger" xmi:id="_0o3HoFOLEe2yaNLydTHFqg"/>
          </ownedAttribute>
          <ownedAttribute xmi:type="uml:Property" xmi:id="_m2IXkFOLEe2yaNLydTHFqg" name="valorLumen">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            <defaultValue xmi:type="uml:LiteralInteger" xmi:id="_5G-RsFOLEe2yaNLydTHFqg"/>
          </ownedAttribute>
          <ownedAttribute xmi:type="uml:Property" xmi:id="_nSaq8FOLEe2yaNLydTHFqg" name="valorTemperatura">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            <defaultValue xmi:type="uml:LiteralInteger" xmi:id="_9sCYUFOLEe2yaNLydTHFqg"/>
          </ownedAttribute>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_8Fv-sFOFEe2yaNLydTHFqg" name="initYo">
            <ownedComment xmi:type="uml:Comment" xmi:id="_oyXNAFOGEe2yaNLydTHFqg" annotatedElement="_8Fv-sFOFEe2yaNLydTHFqg">
              <body>1º configurar variables de entorno de entrada (admitir sensores y memoria)&#xD;
2º comprobar valores de EEPROM getporcentajePWM() y getconfigguardada() (para el último convertir de array a integers)&#xD;
3º cargar valores de la EEPROM al iniciar LEDes y PWM. if not found, cargar PWM  a duty cycle 0 y el LED a blanco y brillo 31.&#xD;
iniciar todas las variables de entorno&#xD;
4º llamar a initCOMP</body>
            </ownedComment>
          </ownedOperation>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_JYp_MFOGEe2yaNLydTHFqg" name="initCOMP">
            <ownedComment xmi:type="uml:Comment" xmi:id="_P0HmwFOGEe2yaNLydTHFqg" annotatedElement="_JYp_MFOGEe2yaNLydTHFqg">
              <body>Tras iniciarse LAMP, iniciaría al COMP</body>
            </ownedComment>
          </ownedOperation>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_8rO04FOGEe2yaNLydTHFqg" name="obtenerSensoresDisponibles">
            <ownedComment xmi:type="uml:Comment" xmi:id="_jUZTAFOHEe2yaNLydTHFqg" annotatedElement="_8rO04FOGEe2yaNLydTHFqg">
              <body>for all sensores:&#xD;
 - obten el valor asociado (equivalente guardado por variable global, como RuidoMasAltoPorSegundo o valorVolumen)&#xD;
 - if valor es basura o tiempo necesario es menor que actual añadir al valor de retorno &quot;el sensor X requiere más tiempo para sacar valores con sentido&quot;&#xD;
 - else añadir al resultado a devolver el valor&#xD;
</body>
            </ownedComment>
            <ownedParameter xmi:type="uml:Parameter" xmi:id="_Py0JwFOHEe2yaNLydTHFqg" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_Py0JwVOHEe2yaNLydTHFqg" value="No se detectan sensores"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_9Hrq4FOHEe2yaNLydTHFqg" name="pong">
            <ownedParameter xmi:type="uml:Parameter" xmi:id="_DPPfAFOIEe2yaNLydTHFqg" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Boolean"/>
              <defaultValue xmi:type="uml:LiteralBoolean" xmi:id="_DPPfAVOIEe2yaNLydTHFqg" value="true"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_FBXugFOJEe2yaNLydTHFqg" name="analisisRuido">
            <ownedComment xmi:type="uml:Comment" xmi:id="_deuOMFOJEe2yaNLydTHFqg" annotatedElement="_FBXugFOJEe2yaNLydTHFqg">
              <body>Cada 10 ms:&#xD;
  entrada&#xD;
  contadorlecturas++&#xD;
  if contadorlecturas &lt; muestrasde10msen1s&#xD;
     if entrada con RuidoMasAltoPorSegundo &lt; entrada&#xD;
        entrada con RuidoMasAltoPorSegundo = entrada;&#xD;
  else &#xD;
     entrada con RuidoMasAltoPorSegundo = 0;&#xD;
  Si entrada &lt; RuidoBajo return 0&#xD;
  si entrada &lt; RuidoMedio return 1&#xD;
  return 2</body>
            </ownedComment>
            <ownedParameter xmi:type="uml:Parameter" xmi:id="_LtH00FOJEe2yaNLydTHFqg" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            </ownedParameter>
            <ownedParameter xmi:type="uml:Parameter" xmi:id="_RdOyQFOJEe2yaNLydTHFqg" name="entrada">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:type="uml:Operation" xmi:id="__IF8EFOKEe2yaNLydTHFqg" name="analisisResto">
            <ownedComment xmi:type="uml:Comment" xmi:id="_KWixgFOLEe2yaNLydTHFqg" annotatedElement="__IF8EFOKEe2yaNLydTHFqg">
              <body>cada 5 segundos&#xD;
  valorCO2 = transformarUnidadesappm(getCO2());&#xD;
  valorHumedad = transformaraporcentajes(getHumedad());&#xD;
  valorLumen = transformarALumen(getLumen());&#xD;
  valorTemperatura = transformarACelsius(getTemperatura());</body>
            </ownedComment>
            <ownedParameter xmi:type="uml:Parameter" xmi:id="__9FVYFRxEe2Oldf2clt63Q" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_lE8GwFOLEe2yaNLydTHFqg" name=" transformarUnidadesappm" visibility="private">
            <ownedComment xmi:type="uml:Comment" xmi:id="_8iuxcFOMEe2yaNLydTHFqg" annotatedElement="_lE8GwFOLEe2yaNLydTHFqg">
              <body>// toma un valor y lo pasa a partes por millón.&#xD;
// NOTA: según el datasheet del sensor, lso bytes 0 y 1 ya nos lo dan en ppm&#xD;
return valor</body>
            </ownedComment>
            <ownedParameter xmi:type="uml:Parameter" xmi:id="_rWFfQFOMEe2yaNLydTHFqg" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            </ownedParameter>
            <ownedParameter xmi:type="uml:Parameter" xmi:id="_LRjWUFONEe2yaNLydTHFqg" name="valor">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_O4ZhMFONEe2yaNLydTHFqg" name="transformaraporcentajes" visibility="private">
            <ownedComment xmi:type="uml:Comment" xmi:id="_rVySYFOOEe2yaNLydTHFqg" annotatedElement="_O4ZhMFONEe2yaNLydTHFqg">
              <body>//Segun el datasheet ya nos da el valor en esas unidades, se devuelve sin cambios:&#xD;
return valor</body>
            </ownedComment>
            <ownedParameter xmi:type="uml:Parameter" xmi:id="_TJbRgFONEe2yaNLydTHFqg" name="valor">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            </ownedParameter>
            <ownedParameter xmi:type="uml:Parameter" xmi:id="_WjWasFONEe2yaNLydTHFqg" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_yZu2QFOOEe2yaNLydTHFqg" name="transformarALumen" visibility="private">
            <ownedComment xmi:type="uml:Comment" xmi:id="_321YIFOOEe2yaNLydTHFqg" annotatedElement="_yZu2QFOOEe2yaNLydTHFqg">
              <body>//Segun el datasheet ya nos da el valor en esas unidades, se devuelve sin cambios:&#xD;
return valor</body>
            </ownedComment>
            <ownedParameter xmi:type="uml:Parameter" xmi:id="_7Hf3oFOOEe2yaNLydTHFqg" name="valor">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            </ownedParameter>
            <ownedParameter xmi:type="uml:Parameter" xmi:id="_9sUk0FOOEe2yaNLydTHFqg" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:type="uml:Operation" xmi:id="__H7nMFOOEe2yaNLydTHFqg" name="transformarACelsius" visibility="private">
            <ownedComment xmi:type="uml:Comment" xmi:id="_DXHkcFOPEe2yaNLydTHFqg" annotatedElement="__H7nMFOOEe2yaNLydTHFqg">
              <body>//Segun el datasheet ya nos da el valor en esas unidades, se devuelve sin cambios:&#xD;
return valor</body>
            </ownedComment>
            <ownedParameter xmi:type="uml:Parameter" xmi:id="_I_FSgFOPEe2yaNLydTHFqg" name="valor">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            </ownedParameter>
            <ownedParameter xmi:type="uml:Parameter" xmi:id="_LVKZEFOPEe2yaNLydTHFqg" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_93e2gFOPEe2yaNLydTHFqg" name="cambiarVelocidadVentilador">
            <ownedComment xmi:type="uml:Comment" xmi:id="_jCxBYFOQEe2yaNLydTHFqg" annotatedElement="_93e2gFOPEe2yaNLydTHFqg">
              <body>// del ventilador&#xD;
setPWM(velocidadPWM)&#xD;
// de la memoria&#xD;
setporcentajePWM(velocidadPWM)&#xD;
</body>
            </ownedComment>
            <ownedParameter xmi:type="uml:Parameter" xmi:id="_Y2JcYFOQEe2yaNLydTHFqg" name="velocidadPWM">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_WTSMIFOSEe2yaNLydTHFqg" name="cambiarLuz">
            <ownedComment xmi:type="uml:Comment" xmi:id="_vE2oUFOSEe2yaNLydTHFqg" annotatedElement="_WTSMIFOSEe2yaNLydTHFqg">
              <body>//llama a la funcion de LEDes SK9822 que modifica su valor&#xD;
setconfigLED(r,g,b, brillo)&#xD;
//Y lo guarda en la memoria&#xD;
setconfigguardadaLED (r,g,b, brillo)</body>
            </ownedComment>
            <ownedParameter xmi:type="uml:Parameter" xmi:id="_g68HUFOSEe2yaNLydTHFqg" name="r">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            </ownedParameter>
            <ownedParameter xmi:type="uml:Parameter" xmi:id="_i3AycFOSEe2yaNLydTHFqg" name="g">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            </ownedParameter>
            <ownedParameter xmi:type="uml:Parameter" xmi:id="_k2bsgFOSEe2yaNLydTHFqg" name="b">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            </ownedParameter>
            <ownedParameter xmi:type="uml:Parameter" xmi:id="_mmLy4FOSEe2yaNLydTHFqg" name="brillo">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_5ajAAFRyEe2Oldf2clt63Q" name="apagar">
            <ownedComment xmi:type="uml:Comment" xmi:id="_Auo4sFRzEe2Oldf2clt63Q" annotatedElement="_5ajAAFRyEe2Oldf2clt63Q">
              <body>//Ejecutaría un reset de SMA_LAMP</body>
            </ownedComment>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_Lzlw0FB2Ee2yaNLydTHFqg" name="SensorTemperatura">
          <ownedAttribute xmi:type="uml:Property" xmi:id="_00SyAFN_Ee2yaNLydTHFqg" name="Temperatura" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            <defaultValue xmi:type="uml:LiteralInteger" xmi:id="_8jG30FN_Ee2yaNLydTHFqg"/>
          </ownedAttribute>
          <ownedAttribute xmi:type="uml:Property" xmi:id="_-3zhgFODEe2yaNLydTHFqg" name="sma_lamp" type="_7BjB4FBzEe2yaNLydTHFqg" association="_-3pJcFODEe2yaNLydTHFqg"/>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_58bl8FN-Ee2yaNLydTHFqg" name="setTemperatura">
            <ownedComment xmi:type="uml:Comment" xmi:id="_x-MuoFN_Ee2yaNLydTHFqg" annotatedElement="_58bl8FN-Ee2yaNLydTHFqg">
              <body>Esto lo obtiene directamente del ADC así que no se asigna nada a nivel SW</body>
            </ownedComment>
          </ownedOperation>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_fmZQ4FN_Ee2yaNLydTHFqg" name="getTemperatura"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_OFBA4FB2Ee2yaNLydTHFqg" name="LEDes SK9822">
          <ownedAttribute xmi:type="uml:Property" xmi:id="_yJzaUFOCEe2yaNLydTHFqg" name="r" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/EcorePrimitiveTypes.library.uml#EByte"/>
          </ownedAttribute>
          <ownedAttribute xmi:type="uml:Property" xmi:id="_1idYMFOCEe2yaNLydTHFqg" name="g" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/EcorePrimitiveTypes.library.uml#EByte"/>
          </ownedAttribute>
          <ownedAttribute xmi:type="uml:Property" xmi:id="_1psooFOCEe2yaNLydTHFqg" name="b">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/EcorePrimitiveTypes.library.uml#EByte"/>
          </ownedAttribute>
          <ownedAttribute xmi:type="uml:Property" xmi:id="_1yKoIFOCEe2yaNLydTHFqg" name="brillo">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/EcorePrimitiveTypes.library.uml#EByte"/>
          </ownedAttribute>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_PHWHsFODEe2yaNLydTHFqg" name="setconfigLED">
            <ownedParameter xmi:type="uml:Parameter" xmi:id="_db1hAFODEe2yaNLydTHFqg" name="r">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            </ownedParameter>
            <ownedParameter xmi:type="uml:Parameter" xmi:id="_h8KRkFODEe2yaNLydTHFqg" name="g">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            </ownedParameter>
            <ownedParameter xmi:type="uml:Parameter" xmi:id="_jTVf4FODEe2yaNLydTHFqg" name="b">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            </ownedParameter>
            <ownedParameter xmi:type="uml:Parameter" xmi:id="_lIY9AFODEe2yaNLydTHFqg" name="brillo">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_R3psIFODEe2yaNLydTHFqg" name="getconfigLED">
            <ownedParameter xmi:type="uml:Parameter" xmi:id="_WZ2sAFODEe2yaNLydTHFqg" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/EcorePrimitiveTypes.library.uml#EByteArray"/>
            </ownedParameter>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_QGty4FB2Ee2yaNLydTHFqg" name="SMA_COMP Ventana interfaz usr">
          <ownedAttribute xmi:type="uml:Property" xmi:id="_10ZIkFQ5Ee2Oldf2clt63Q" name="opero" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Boolean"/>
            <defaultValue xmi:type="uml:LiteralBoolean" xmi:id="_BqS_kFQ6Ee2Oldf2clt63Q" name="defaultOpero" value="true"/>
          </ownedAttribute>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_qc8fgFOGEe2yaNLydTHFqg" name="init">
            <ownedComment xmi:type="uml:Comment" xmi:id="_cS6BsFOREe2yaNLydTHFqg" annotatedElement="_qc8fgFOGEe2yaNLydTHFqg">
              <body>Abrir ventana/terminales para:&#xD;
  obtenerSensoresDisponibles&#xD;
  muestraDatosPorSegundo&#xD;
  cambiarVelocidadVentilador&#xD;
  cambiarLuz</body>
            </ownedComment>
          </ownedOperation>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_0m-qkFOGEe2yaNLydTHFqg" name="obtenerSensoresDisponibles">
            <ownedComment xmi:type="uml:Comment" xmi:id="_67q7wFOGEe2yaNLydTHFqg" annotatedElement="_0m-qkFOGEe2yaNLydTHFqg">
              <body>llama a la función de SMA_LAMP de mismo nombre y devuelve su resultado por pantalla</body>
            </ownedComment>
            <ownedParameter xmi:type="uml:Parameter" xmi:id="_CHUqIFOHEe2yaNLydTHFqg" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_GbDJIFOHEe2yaNLydTHFqg" value="Obteniendo datos..."/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_5TQXAFOHEe2yaNLydTHFqg" name="pingComprobacionSMALAMP">
            <ownedComment xmi:type="uml:Comment" xmi:id="_Q_EFAFOIEe2yaNLydTHFqg" annotatedElement="_5TQXAFOHEe2yaNLydTHFqg">
              <body>1º llama a la funcion pong de SMA_LAMP y devuleve su resultado.&#xD;
2º si pong no responde tras cierto tiempo, pone opero a falso y devuelve false</body>
            </ownedComment>
            <ownedParameter xmi:type="uml:Parameter" xmi:id="_Ie2XcFOIEe2yaNLydTHFqg" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Boolean"/>
              <defaultValue xmi:type="uml:LiteralBoolean" xmi:id="_Ie2XcVOIEe2yaNLydTHFqg"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_Sa2GgFOIEe2yaNLydTHFqg" name="muestraDatosPorSegundo">
            <ownedComment xmi:type="uml:Comment" xmi:id="_lfeOAFOIEe2yaNLydTHFqg" annotatedElement="_Sa2GgFOIEe2yaNLydTHFqg">
              <body>while(1){&#xD;
  esperar_1_Segundo;&#xD;
  if pingComprobacionSMALAMP entonces&#xD;
     obtenerSensoresDisponibles&#xD;
   else&#xD;
      decir que el SMA_LAMP está desconectado&#xD;
      break; (salir del bucle)&#xD;
}</body>
            </ownedComment>
          </ownedOperation>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_k5aPYFOPEe2yaNLydTHFqg" name="cambiarVelocidadVentilador">
            <ownedComment xmi:type="uml:Comment" xmi:id="_7gWAAFOPEe2yaNLydTHFqg" annotatedElement="_k5aPYFOPEe2yaNLydTHFqg">
              <body>if (opero}{ // No opere cuando no pueda conectar con la lámpara&#xD;
  pedir parametro porcentajePWM por pantalla (terminal o ventana)&#xD;
  si porcentajePWM > 100 entonces porcentajePWM = 100;&#xD;
  si porcentajePWM &lt; 0 entonces porcentajePWM = 0;&#xD;
  llamar a SMA_LAMP cambiarVelocidadVentilador(porcentajePWM)&#xD;
}</body>
            </ownedComment>
          </ownedOperation>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_sxy2AFOREe2yaNLydTHFqg" name="cambiarLuz">
            <ownedComment xmi:type="uml:Comment" xmi:id="_F61XAFOSEe2yaNLydTHFqg" annotatedElement="_sxy2AFOREe2yaNLydTHFqg">
              <body>// No opere cuando no pueda conectar con la lámpara&#xD;
1º pedir parametros 'r', 'g', 'b', 'brillo' por pantalla (terminal o ventana)&#xD;
2º si 'r' o 'g' o 'b'  están por encima de 255, se establecerá a 255. Si 'brillo' está por encima de 31 se establece a 31.&#xD;
Si estan por debajo de 0 pues se establecen a 0.&#xD;
2º llamar a SMA_LAMP cambiarVelocidadVentilador(porcentajePWM)</body>
            </ownedComment>
          </ownedOperation>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_nlFC0FQ8Ee2Oldf2clt63Q" name="entrada">
            <ownedComment xmi:type="uml:Comment" xmi:id="_rJoHoFQ8Ee2Oldf2clt63Q" annotatedElement="_nlFC0FQ8Ee2Oldf2clt63Q">
              <body>Leería de teclado o un botón u algo</body>
            </ownedComment>
          </ownedOperation>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_wJNXgFRyEe2Oldf2clt63Q" name="apagar">
            <ownedComment xmi:type="uml:Comment" xmi:id="_1-BOwFRyEe2Oldf2clt63Q" annotatedElement="_wJNXgFRyEe2Oldf2clt63Q">
              <body>//Llama a una función de SMA-LAMP que la apaga.&#xD;
SMA-LAMP.apagar()</body>
            </ownedComment>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_k_rl0FB2Ee2yaNLydTHFqg" name="PWMVentilador">
          <ownedAttribute xmi:type="uml:Property" xmi:id="_-n-nsFOBEe2yaNLydTHFqg" name="elPWMDutyCycle" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            <defaultValue xmi:type="uml:LiteralInteger" xmi:id="_HPRNoFOCEe2yaNLydTHFqg"/>
          </ownedAttribute>
          <ownedAttribute xmi:type="uml:Property" xmi:id="_eo_GEFOCEe2yaNLydTHFqg" name="valorPR2">
            <ownedComment xmi:type="uml:Comment" xmi:id="_tgPOMFOCEe2yaNLydTHFqg" annotatedElement="_eo_GEFOCEe2yaNLydTHFqg">
              <body>Esto se usa para definir a que valor luego ponemos el dutyCycle, e indice el maximo que podemos poner.&#xD;
El 167 es para un cristal de 30 kHz</body>
            </ownedComment>
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            <defaultValue xmi:type="uml:LiteralInteger" xmi:id="_kgKU0FOCEe2yaNLydTHFqg" value="167"/>
          </ownedAttribute>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_MgTpcFOCEe2yaNLydTHFqg" name="getPWM">
            <ownedParameter xmi:type="uml:Parameter" xmi:id="_RIVkgFOCEe2yaNLydTHFqg" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_SVX_YFOCEe2yaNLydTHFqg" name="setPWM">
            <ownedParameter xmi:type="uml:Parameter" xmi:id="_bGiTAFOCEe2yaNLydTHFqg">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            </ownedParameter>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Actor" xmi:id="_QDPOkFEaEe2yaNLydTHFqg" name="LINUX usr"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_J_cssFN2Ee2yaNLydTHFqg" name="Memoria">
          <ownedAttribute xmi:type="uml:Property" xmi:id="_G8NvwFN3Ee2yaNLydTHFqg" name="noPrimerArranque" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Boolean"/>
            <defaultValue xmi:type="uml:LiteralBoolean" xmi:id="_hUQagFN3Ee2yaNLydTHFqg"/>
          </ownedAttribute>
          <ownedAttribute xmi:type="uml:Property" xmi:id="_J0NbIFN4Ee2yaNLydTHFqg" name="porcentajePWM" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            <defaultValue xmi:type="uml:LiteralInteger" xmi:id="_OrR3wFN4Ee2yaNLydTHFqg"/>
          </ownedAttribute>
          <ownedAttribute xmi:type="uml:Property" xmi:id="_SumjQFN4Ee2yaNLydTHFqg" name="configR" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/EcorePrimitiveTypes.library.uml#EByte"/>
            <defaultValue xmi:type="uml:LiteralInteger" xmi:id="_3L2KIFN9Ee2yaNLydTHFqg" value="255"/>
          </ownedAttribute>
          <ownedAttribute xmi:type="uml:Property" xmi:id="_6fLjIFN9Ee2yaNLydTHFqg" name="configG" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/EcorePrimitiveTypes.library.uml#EByte"/>
            <defaultValue xmi:type="uml:LiteralInteger" xmi:id="_RIDNcFN-Ee2yaNLydTHFqg" value="255"/>
          </ownedAttribute>
          <ownedAttribute xmi:type="uml:Property" xmi:id="_6r4iYFN9Ee2yaNLydTHFqg" name="configB" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/EcorePrimitiveTypes.library.uml#EByte"/>
            <defaultValue xmi:type="uml:LiteralInteger" xmi:id="_M9htwFN-Ee2yaNLydTHFqg" value="255"/>
          </ownedAttribute>
          <ownedAttribute xmi:type="uml:Property" xmi:id="_6-QEwFN9Ee2yaNLydTHFqg" name="configBrillo" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/EcorePrimitiveTypes.library.uml#EByte"/>
            <defaultValue xmi:type="uml:LiteralInteger" xmi:id="_I5ROIFN-Ee2yaNLydTHFqg" value="31"/>
          </ownedAttribute>
          <ownedBehavior xmi:type="uml:FunctionBehavior" xmi:id="_nMs3wFN7Ee2yaNLydTHFqg" name="getnoPrimerArranque" specification="_1A-8cFN6Ee2yaNLydTHFqg">
            <language>C++</language>
            <body>return getnoPrimerArranque;</body>
          </ownedBehavior>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_1A-8cFN6Ee2yaNLydTHFqg" name="getnoPrimerArranque" method="_nMs3wFN7Ee2yaNLydTHFqg">
            <ownedParameter xmi:type="uml:Parameter" xmi:id="_J0qxUFN8Ee2yaNLydTHFqg" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Boolean"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_wWLkwFN7Ee2yaNLydTHFqg" name="setnoPrimerArranque">
            <ownedParameter xmi:type="uml:Parameter" xmi:id="__0XxEFN7Ee2yaNLydTHFqg" name="valor">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Boolean"/>
              <defaultValue xmi:type="uml:LiteralBoolean" xmi:id="__0XxEVN7Ee2yaNLydTHFqg" value="true"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_CZhOYFN8Ee2yaNLydTHFqg" name="getporcentajePWM">
            <ownedParameter xmi:type="uml:Parameter" xmi:id="_PPXfcFN8Ee2yaNLydTHFqg" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_VTLcAFN8Ee2yaNLydTHFqg" name="setporcentajePWM">
            <ownedComment xmi:type="uml:Comment" xmi:id="_dVbB0FRFEe2Oldf2clt63Q" annotatedElement="_VTLcAFN8Ee2yaNLydTHFqg">
              <body>EADDR = direccion;&#xD;
int contador = 0;&#xD;
boolean confirmado = false;&#xD;
while (contador &lt; 10 &amp;&amp; confirmado)&#xD;
{&#xD;
  EEDAT = valor;&#xD;
  EECON2 = 55h;&#xD;
  EECON2 = AAh;&#xD;
  EECON1bits.WR = 1;&#xD;
  if (getPorcentajePWM == valor)&#xD;
    confirmado = true;&#xD;
  else&#xD;
    contador++;&#xD;
}&#xD;
if (contador >= 10) -- MANDAR ERROR EPROM</body>
            </ownedComment>
            <ownedParameter xmi:type="uml:Parameter" xmi:id="_dOSRYFN8Ee2yaNLydTHFqg" name="valor">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_hwNkcFN8Ee2yaNLydTHFqg" name="setconfigguardada">
            <ownedComment xmi:type="uml:Comment" xmi:id="_LXdpsFOQEe2yaNLydTHFqg" annotatedElement="_hwNkcFN8Ee2yaNLydTHFqg">
              <body>//Tambien hará casting de integer a tipo byte&#xD;
//Lo mismo que el comentario de setporcentajePWM()</body>
            </ownedComment>
            <ownedParameter xmi:type="uml:Parameter" xmi:id="_xcP_gFN8Ee2yaNLydTHFqg" name="r">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
              <defaultValue xmi:type="uml:LiteralInteger" xmi:id="_xcP_gVN8Ee2yaNLydTHFqg" value="255"/>
            </ownedParameter>
            <ownedParameter xmi:type="uml:Parameter" xmi:id="_SEGbcFN9Ee2yaNLydTHFqg" name="g">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
              <defaultValue xmi:type="uml:LiteralInteger" xmi:id="_SEGbcVN9Ee2yaNLydTHFqg" value="255"/>
            </ownedParameter>
            <ownedParameter xmi:type="uml:Parameter" xmi:id="_WhcwgFN9Ee2yaNLydTHFqg" name="b">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
              <defaultValue xmi:type="uml:LiteralInteger" xmi:id="_WhcwgVN9Ee2yaNLydTHFqg" value="255"/>
            </ownedParameter>
            <ownedParameter xmi:type="uml:Parameter" xmi:id="_axP8UFN-Ee2yaNLydTHFqg" name="brillo">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
              <defaultValue xmi:type="uml:LiteralInteger" xmi:id="_es22QFN-Ee2yaNLydTHFqg" value="31"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_5rW5gFN9Ee2yaNLydTHFqg" name="getconfigguardadaLED">
            <ownedParameter xmi:type="uml:Parameter" xmi:id="_5ZClAFN-Ee2yaNLydTHFqg" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/EcorePrimitiveTypes.library.uml#EByteArray"/>
            </ownedParameter>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_LhNO0FOAEe2yaNLydTHFqg" name="SensorRuido">
          <ownedAttribute xmi:type="uml:Property" xmi:id="_LhNO0VOAEe2yaNLydTHFqg" name="Ruido" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            <defaultValue xmi:type="uml:LiteralInteger" xmi:id="_LhNO0lOAEe2yaNLydTHFqg"/>
          </ownedAttribute>
          <ownedAttribute xmi:type="uml:Property" xmi:id="_Vx9wIlOEEe2yaNLydTHFqg" name="sma_lamp" type="_7BjB4FBzEe2yaNLydTHFqg" association="_Vx9JEFOEEe2yaNLydTHFqg"/>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_LhNO01OAEe2yaNLydTHFqg" name="setRuido">
            <ownedComment xmi:type="uml:Comment" xmi:id="_LhNO1FOAEe2yaNLydTHFqg" annotatedElement="_LhNO01OAEe2yaNLydTHFqg">
              <body>Esto lo obtiene directamente del ADC así que no se asigna nada a nivel SW</body>
            </ownedComment>
          </ownedOperation>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_LhNO1VOAEe2yaNLydTHFqg" name="getRuido"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_rfDrgFOAEe2yaNLydTHFqg" name="SensorHumedad">
          <ownedAttribute xmi:type="uml:Property" xmi:id="_rfDrgVOAEe2yaNLydTHFqg" name="Humedad" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            <defaultValue xmi:type="uml:LiteralInteger" xmi:id="_rfDrglOAEe2yaNLydTHFqg"/>
          </ownedAttribute>
          <ownedAttribute xmi:type="uml:Property" xmi:id="_YwNp8lOEEe2yaNLydTHFqg" name="sma_lamp" type="_7BjB4FBzEe2yaNLydTHFqg" association="_YwNC4FOEEe2yaNLydTHFqg"/>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_rfESkFOAEe2yaNLydTHFqg" name="setHumedad">
            <ownedComment xmi:type="uml:Comment" xmi:id="_rfESkVOAEe2yaNLydTHFqg" annotatedElement="_rfESkFOAEe2yaNLydTHFqg">
              <body>Esto lo obtiene directamente del ADC así que no se asigna nada a nivel SW</body>
            </ownedComment>
          </ownedOperation>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_rfESklOAEe2yaNLydTHFqg" name="getHumedad"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_b2gz4FOBEe2yaNLydTHFqg" name="SensorCO2">
          <ownedAttribute xmi:type="uml:Property" xmi:id="_b2gz4VOBEe2yaNLydTHFqg" name="elCO2" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            <defaultValue xmi:type="uml:LiteralInteger" xmi:id="_b2gz4lOBEe2yaNLydTHFqg"/>
          </ownedAttribute>
          <ownedAttribute xmi:type="uml:Property" xmi:id="_ZhhLElOEEe2yaNLydTHFqg" name="sma_lamp" type="_7BjB4FBzEe2yaNLydTHFqg" association="_ZhgkAFOEEe2yaNLydTHFqg"/>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_b2gz41OBEe2yaNLydTHFqg" name="setCO2">
            <ownedComment xmi:type="uml:Comment" xmi:id="_b2gz5FOBEe2yaNLydTHFqg" annotatedElement="_b2gz41OBEe2yaNLydTHFqg">
              <body>Esto lo obtiene directamente del ADC así que no se asigna nada a nivel SW</body>
            </ownedComment>
          </ownedOperation>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_b2gz5VOBEe2yaNLydTHFqg" name="getCO2"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_uJkUgFOBEe2yaNLydTHFqg" name="SensorLumen">
          <ownedAttribute xmi:type="uml:Property" xmi:id="_uJkUgVOBEe2yaNLydTHFqg" name="Lumen" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
            <defaultValue xmi:type="uml:LiteralInteger" xmi:id="_uJkUglOBEe2yaNLydTHFqg"/>
          </ownedAttribute>
          <ownedAttribute xmi:type="uml:Property" xmi:id="_nZIbIlOEEe2yaNLydTHFqg" name="sma_lamp" type="_7BjB4FBzEe2yaNLydTHFqg" association="_nZH0EFOEEe2yaNLydTHFqg"/>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_uJkUg1OBEe2yaNLydTHFqg" name="setLumen">
            <ownedComment xmi:type="uml:Comment" xmi:id="_uJkUhFOBEe2yaNLydTHFqg" annotatedElement="_uJkUg1OBEe2yaNLydTHFqg">
              <body>Esto lo obtiene directamente del ADC así que no se asigna nada a nivel SW</body>
            </ownedComment>
          </ownedOperation>
          <ownedOperation xmi:type="uml:Operation" xmi:id="_uJkUhVOBEe2yaNLydTHFqg" name="getLumen"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_-3pJcFODEe2yaNLydTHFqg" memberEnd="_-3zhgFODEe2yaNLydTHFqg _-30voFODEe2yaNLydTHFqg">
          <eAnnotations xmi:type="ecore:EAnnotation" xmi:id="_-3yTYFODEe2yaNLydTHFqg" source="org.eclipse.papyrus">
            <details xmi:type="ecore:EStringToStringMapEntry" xmi:id="_-3yTYVODEe2yaNLydTHFqg" key="nature" value="UML_Nature"/>
          </eAnnotations>
          <ownedEnd xmi:type="uml:Property" xmi:id="_-30voFODEe2yaNLydTHFqg" name="sensortemperatura" type="_Lzlw0FB2Ee2yaNLydTHFqg" association="_-3pJcFODEe2yaNLydTHFqg"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_Vx9JEFOEEe2yaNLydTHFqg" memberEnd="_Vx9wIlOEEe2yaNLydTHFqg _Vx-XMlOEEe2yaNLydTHFqg">
          <eAnnotations xmi:type="ecore:EAnnotation" xmi:id="_Vx9wIFOEEe2yaNLydTHFqg" source="org.eclipse.papyrus">
            <details xmi:type="ecore:EStringToStringMapEntry" xmi:id="_Vx9wIVOEEe2yaNLydTHFqg" key="nature" value="UML_Nature"/>
          </eAnnotations>
          <ownedEnd xmi:type="uml:Property" xmi:id="_Vx-XMlOEEe2yaNLydTHFqg" name="sensorruido" type="_LhNO0FOAEe2yaNLydTHFqg" association="_Vx9JEFOEEe2yaNLydTHFqg"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_YwNC4FOEEe2yaNLydTHFqg" memberEnd="_YwNp8lOEEe2yaNLydTHFqg _YwZQIFOEEe2yaNLydTHFqg">
          <eAnnotations xmi:type="ecore:EAnnotation" xmi:id="_YwNp8FOEEe2yaNLydTHFqg" source="org.eclipse.papyrus">
            <details xmi:type="ecore:EStringToStringMapEntry" xmi:id="_YwNp8VOEEe2yaNLydTHFqg" key="nature" value="UML_Nature"/>
          </eAnnotations>
          <ownedEnd xmi:type="uml:Property" xmi:id="_YwZQIFOEEe2yaNLydTHFqg" name="sensorhumedad" type="_rfDrgFOAEe2yaNLydTHFqg" association="_YwNC4FOEEe2yaNLydTHFqg"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_ZhgkAFOEEe2yaNLydTHFqg" memberEnd="_ZhhLElOEEe2yaNLydTHFqg _ZhhyIlOEEe2yaNLydTHFqg">
          <eAnnotations xmi:type="ecore:EAnnotation" xmi:id="_ZhhLEFOEEe2yaNLydTHFqg" source="org.eclipse.papyrus">
            <details xmi:type="ecore:EStringToStringMapEntry" xmi:id="_ZhhLEVOEEe2yaNLydTHFqg" key="nature" value="UML_Nature"/>
          </eAnnotations>
          <ownedEnd xmi:type="uml:Property" xmi:id="_ZhhyIlOEEe2yaNLydTHFqg" name="sensorco2" type="_b2gz4FOBEe2yaNLydTHFqg" association="_ZhgkAFOEEe2yaNLydTHFqg"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_nZH0EFOEEe2yaNLydTHFqg" memberEnd="_nZIbIlOEEe2yaNLydTHFqg _nZJCMVOEEe2yaNLydTHFqg">
          <eAnnotations xmi:type="ecore:EAnnotation" xmi:id="_nZIbIFOEEe2yaNLydTHFqg" source="org.eclipse.papyrus">
            <details xmi:type="ecore:EStringToStringMapEntry" xmi:id="_nZIbIVOEEe2yaNLydTHFqg" key="nature" value="UML_Nature"/>
          </eAnnotations>
          <ownedEnd xmi:type="uml:Property" xmi:id="_nZJCMVOEEe2yaNLydTHFqg" name="sensorlumen" type="_uJkUgFOBEe2yaNLydTHFqg" association="_nZH0EFOEEe2yaNLydTHFqg"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_3MTY8FOEEe2yaNLydTHFqg" memberEnd="_3MVOIVOEEe2yaNLydTHFqg _3MVOJFOEEe2yaNLydTHFqg">
          <eAnnotations xmi:type="ecore:EAnnotation" xmi:id="_3MUnEFOEEe2yaNLydTHFqg" source="org.eclipse.papyrus">
            <details xmi:type="ecore:EStringToStringMapEntry" xmi:id="_3MVOIFOEEe2yaNLydTHFqg" key="nature" value="UML_Nature"/>
          </eAnnotations>
          <ownedEnd xmi:type="uml:Property" xmi:id="_3MVOJFOEEe2yaNLydTHFqg" name="sma_lamp" type="_7BjB4FBzEe2yaNLydTHFqg" association="_3MTY8FOEEe2yaNLydTHFqg"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_ftJKYFOFEe2yaNLydTHFqg" memberEnd="_ftKYgVOFEe2yaNLydTHFqg _ftOC4FOFEe2yaNLydTHFqg">
          <eAnnotations xmi:type="ecore:EAnnotation" xmi:id="_ftJxcFOFEe2yaNLydTHFqg" source="org.eclipse.papyrus">
            <details xmi:type="ecore:EStringToStringMapEntry" xmi:id="_ftKYgFOFEe2yaNLydTHFqg" key="nature" value="UML_Nature"/>
          </eAnnotations>
          <ownedEnd xmi:type="uml:Property" xmi:id="_ftKYgVOFEe2yaNLydTHFqg" name="memoria" type="_J_cssFN2Ee2yaNLydTHFqg" association="_ftJKYFOFEe2yaNLydTHFqg"/>
          <ownedEnd xmi:type="uml:Property" xmi:id="_ftOC4FOFEe2yaNLydTHFqg" name="sma_lamp" type="_7BjB4FBzEe2yaNLydTHFqg" association="_ftJKYFOFEe2yaNLydTHFqg"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_hkaOAFOFEe2yaNLydTHFqg" memberEnd="_hkbcIVOFEe2yaNLydTHFqg _hkfGgFOFEe2yaNLydTHFqg">
          <eAnnotations xmi:type="ecore:EAnnotation" xmi:id="_hka1EFOFEe2yaNLydTHFqg" source="org.eclipse.papyrus">
            <details xmi:type="ecore:EStringToStringMapEntry" xmi:id="_hkbcIFOFEe2yaNLydTHFqg" key="nature" value="UML_Nature"/>
          </eAnnotations>
          <ownedEnd xmi:type="uml:Property" xmi:id="_hkbcIVOFEe2yaNLydTHFqg" name="sma_comp ventana interfaz usr" type="_QGty4FB2Ee2yaNLydTHFqg" association="_hkaOAFOFEe2yaNLydTHFqg">
            <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_x-DEAFOHEe2yaNLydTHFqg"/>
            <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_x-lPgFOHEe2yaNLydTHFqg" value="*"/>
          </ownedEnd>
          <ownedEnd xmi:type="uml:Property" xmi:id="_hkfGgFOFEe2yaNLydTHFqg" name="sma_lamp" type="_7BjB4FBzEe2yaNLydTHFqg" association="_hkaOAFOFEe2yaNLydTHFqg"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_212yYFOFEe2yaNLydTHFqg" memberEnd="_213ZclOFEe2yaNLydTHFqg _214AglOFEe2yaNLydTHFqg">
          <eAnnotations xmi:type="ecore:EAnnotation" xmi:id="_213ZcFOFEe2yaNLydTHFqg" source="org.eclipse.papyrus">
            <details xmi:type="ecore:EStringToStringMapEntry" xmi:id="_213ZcVOFEe2yaNLydTHFqg" key="nature" value="UML_Nature"/>
          </eAnnotations>
          <ownedEnd xmi:type="uml:Property" xmi:id="_214AglOFEe2yaNLydTHFqg" name="sma_lamp" type="_7BjB4FBzEe2yaNLydTHFqg" association="_212yYFOFEe2yaNLydTHFqg"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_s2nWgFOPEe2yaNLydTHFqg" memberEnd="_s2okolOPEe2yaNLydTHFqg _s2oko1OPEe2yaNLydTHFqg">
          <eAnnotations xmi:type="ecore:EAnnotation" xmi:id="_s2okoFOPEe2yaNLydTHFqg" source="org.eclipse.papyrus">
            <details xmi:type="ecore:EStringToStringMapEntry" xmi:id="_s2okoVOPEe2yaNLydTHFqg" key="nature" value="UML_Nature"/>
          </eAnnotations>
          <ownedEnd xmi:type="uml:Property" xmi:id="_s2okolOPEe2yaNLydTHFqg" name="sma_comp ventana interfaz usr" type="_QGty4FB2Ee2yaNLydTHFqg" association="_s2nWgFOPEe2yaNLydTHFqg"/>
          <ownedEnd xmi:type="uml:Property" xmi:id="_s2oko1OPEe2yaNLydTHFqg" name="linux usr" type="_QDPOkFEaEe2yaNLydTHFqg" association="_s2nWgFOPEe2yaNLydTHFqg"/>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_zVi_gFBzEe2yaNLydTHFqg" name="Low Level Design">
        <packagedElement xmi:type="uml:StateMachine" xmi:id="_GS1KkFQyEe2Oldf2clt63Q" name="StateMachine1">
          <region xmi:type="uml:Region" xmi:id="_HVEDoFQyEe2Oldf2clt63Q" name="Region1">
            <transition xmi:type="uml:Transition" xmi:id="_TC5jwFQyEe2Oldf2clt63Q" name="PrimerEncendido" source="_JOBwYFQyEe2Oldf2clt63Q" target="_NXTS4FQyEe2Oldf2clt63Q"/>
            <transition xmi:type="uml:Transition" xmi:id="_gbtX8FQyEe2Oldf2clt63Q" name="if EEDAT == null" source="_NXTS4FQyEe2Oldf2clt63Q" target="_adRqoFQyEe2Oldf2clt63Q"/>
            <transition xmi:type="uml:Transition" xmi:id="_BvUGoFQzEe2Oldf2clt63Q" name="if EEDAT != null" source="_NXTS4FQyEe2Oldf2clt63Q" target="_YV_1EFQyEe2Oldf2clt63Q"/>
            <transition xmi:type="uml:Transition" xmi:id="_-4cf0FQ1Ee2Oldf2clt63Q" source="_YV_1EFQyEe2Oldf2clt63Q" target="_9WHxcFQ1Ee2Oldf2clt63Q"/>
            <transition xmi:type="uml:Transition" xmi:id="_ARnSMFQ2Ee2Oldf2clt63Q" source="_adRqoFQyEe2Oldf2clt63Q" target="_9WHxcFQ1Ee2Oldf2clt63Q"/>
            <transition xmi:type="uml:Transition" xmi:id="_TADVAFQ7Ee2Oldf2clt63Q" name="muestraDatosPorSegundo(); o Apagar SMP_LAMP" source="_9WHxcFQ1Ee2Oldf2clt63Q" target="_Mps28FQ7Ee2Oldf2clt63Q"/>
            <transition xmi:type="uml:Transition" xmi:id="_q1W14FQ-Ee2Oldf2clt63Q" name="!pingComprobacionSMALAMP" source="_Mps28FQ7Ee2Oldf2clt63Q" target="_zAAOAFQ8Ee2Oldf2clt63Q"/>
            <transition xmi:type="uml:Transition" xmi:id="_vTBUAFQ-Ee2Oldf2clt63Q" name="Reinicio SMP_COMP" source="_zAAOAFQ8Ee2Oldf2clt63Q" target="_9WHxcFQ1Ee2Oldf2clt63Q"/>
            <transition xmi:type="uml:Transition" xmi:id="_8tTu4FQ-Ee2Oldf2clt63Q" name="pulsado != null" source="_Mps28FQ7Ee2Oldf2clt63Q" target="_484xQFQ-Ee2Oldf2clt63Q"/>
            <transition xmi:type="uml:Transition" xmi:id="_NSjp4FQ_Ee2Oldf2clt63Q" name="Apagar SMP_LAMP 1" source="_adRqoFQyEe2Oldf2clt63Q" target="_KmNEQFQyEe2Oldf2clt63Q"/>
            <transition xmi:type="uml:Transition" xmi:id="_kJ0qoFRBEe2Oldf2clt63Q" source="_484xQFQ-Ee2Oldf2clt63Q" target="_Mps28FQ7Ee2Oldf2clt63Q">
              <ownedComment xmi:type="uml:Comment" xmi:id="_mikqsFRBEe2Oldf2clt63Q" annotatedElement="_kJ0qoFRBEe2Oldf2clt63Q">
                <body>Aca sea como sea vuelve a este estado</body>
              </ownedComment>
            </transition>
            <transition xmi:type="uml:Transition" xmi:id="_lcv1oFRCEe2Oldf2clt63Q" name="EncendidosNoPrimeros" source="_KmNEQFQyEe2Oldf2clt63Q" target="_NXTS4FQyEe2Oldf2clt63Q"/>
            <transition xmi:type="uml:Transition" xmi:id="_89Y1cFRCEe2Oldf2clt63Q" name="Apagar SMP_LAMP 2" source="_YV_1EFQyEe2Oldf2clt63Q" target="_KmNEQFQyEe2Oldf2clt63Q"/>
            <transition xmi:type="uml:Transition" xmi:id="_RgUG8FRDEe2Oldf2clt63Q" name="Apagar SMP_LAMP 3" source="_zAAOAFQ8Ee2Oldf2clt63Q" target="_KmNEQFQyEe2Oldf2clt63Q"/>
            <subvertex xmi:type="uml:Pseudostate" xmi:id="_JOBwYFQyEe2Oldf2clt63Q" name="ApagadoInicial"/>
            <subvertex xmi:type="uml:FinalState" xmi:id="_KmNEQFQyEe2Oldf2clt63Q" name="ApagadoFinal">
              <ownedComment xmi:type="uml:Comment" xmi:id="_0TZx8FRwEe2Oldf2clt63Q" annotatedElement="_KmNEQFQyEe2Oldf2clt63Q">
                <body>r := ?, g := ?, bMem := ?, brillo := ?; (memoria volátil)&#xD;
rMem := Y, gMem := Y, bMem := Y, brilloMem := Y; (igual al estadio anterior)</body>
              </ownedComment>
            </subvertex>
            <subvertex xmi:type="uml:State" xmi:id="_NXTS4FQyEe2Oldf2clt63Q" name="S1">
              <ownedComment xmi:type="uml:Comment" xmi:id="_yKbvwFRvEe2Oldf2clt63Q" annotatedElement="_NXTS4FQyEe2Oldf2clt63Q">
                <body>r := ?, g := ?, b := ?; brillo = ?;&#xD;
rMem := Y, gMem := Y, bMem := Y, brilloMem := Y; (pueden ser o no null)</body>
              </ownedComment>
              <entry xmi:type="uml:FunctionBehavior" xmi:id="_nRNasFQzEe2Oldf2clt63Q" name="Ent1">
                <language>C</language>
                <body>//Iniciar variables de entorno del actuador. El init incluye los inits de Sensores y actuadores, menos el valor de salida de actuadores&#xD;
initYo();</body>
              </entry>
              <exit xmi:type="uml:FunctionBehavior" xmi:id="_VCEUQFQ0Ee2Oldf2clt63Q" name="Sal1">
                <language>C</language>
                <body>EADR = direccion;&#xD;
EECON1bits.RD = 1</body>
              </exit>
              <region xmi:type="uml:Region" xmi:id="_O0IdQFQyEe2Oldf2clt63Q" name="r,g,b := 255; brillo = 31;">
                <ownedComment xmi:type="uml:Comment" xmi:id="_f5txcFRvEe2Oldf2clt63Q" annotatedElement="_O0IdQFQyEe2Oldf2clt63Q">
                  <body>r := ?, g := ?, b := ?; brillo = ?;</body>
                </ownedComment>
              </region>
            </subvertex>
            <subvertex xmi:type="uml:State" xmi:id="_YV_1EFQyEe2Oldf2clt63Q" name="S2">
              <ownedComment xmi:type="uml:Comment" xmi:id="_Z1AdAFRvEe2Oldf2clt63Q" annotatedElement="_YV_1EFQyEe2Oldf2clt63Q">
                <body>r,g,b := 255; brillo = 31;</body>
              </ownedComment>
              <doActivity xmi:type="uml:FunctionBehavior" xmi:id="_E6pvUFQ1Ee2Oldf2clt63Q" name="Ant1">
                <language>C</language>
                <body>cambiarVelocidadVentilador(EEDAT);&#xD;
byte test[4];&#xD;
for (i = 0; i = 4) {&#xD;
EADR = direccion + 8 * i;&#xD;
EECON1bits.RD = 1;&#xD;
test[i] = EEDAT;&#xD;
}&#xD;
cambiarLuz(test);</body>
              </doActivity>
            </subvertex>
            <subvertex xmi:type="uml:State" xmi:id="_adRqoFQyEe2Oldf2clt63Q" name="S3">
              <ownedComment xmi:type="uml:Comment" xmi:id="_4mmh8FRvEe2Oldf2clt63Q" annotatedElement="_adRqoFQyEe2Oldf2clt63Q">
                <body>r := rMem, g :=  gMem, b :=  bMem; brillo = brilloMem;</body>
              </ownedComment>
              <doActivity xmi:type="uml:FunctionBehavior" xmi:id="_ryOc4FQ1Ee2Oldf2clt63Q" name="Default">
                <language>C</language>
                <body>cambiarVelocidadVentilador(0);&#xD;
byte test[4] = {255,255,255, 31};&#xD;
cambiarLuz(test);</body>
              </doActivity>
            </subvertex>
            <subvertex xmi:type="uml:State" xmi:id="_9WHxcFQ1Ee2Oldf2clt63Q" name="S4">
              <ownedComment xmi:type="uml:Comment" xmi:id="_C6udIFRwEe2Oldf2clt63Q" annotatedElement="_9WHxcFQ1Ee2Oldf2clt63Q">
                <body>r := X, g :=  X, b :=  X; brillo = X; (igual al estadio anterior)&#xD;
rMem := Y, gMem := Y, bMem := Y, brilloMem := Y; (igual al estadio anterior)</body>
              </ownedComment>
              <doActivity xmi:type="uml:FunctionBehavior" xmi:id="_-64d4FQ3Ee2Oldf2clt63Q" name="InitSMP_COMP">
                <language>C</language>
                <body>//Iniciar al SMP_COMP con init();&#xD;
//Init contiene&#xD;
init(){&#xD;
  // abrirVentanas o terminal&#xD;
  muestraDatosPorSegundo();&#xD;
}&#xD;
/*&#xD;
muestraDatosPorSegundo()&#xD;
while(1){&#xD;
  esperar_1_Segundo;&#xD;
  if pingComprobacionSMALAMP entonces&#xD;
     obtenerSensoresDisponibles&#xD;
     int pulsado; // Se rellenaría con datos de un botón o terminal&#xD;
     if (pulsado != null)&#xD;
     {&#xD;
         &#xD;
     }&#xD;
   else&#xD;
      decir que el SMA_LAMP está desconectado&#xD;
      break; (salir del bucle)&#xD;
}&#xD;
while{1}{&#xD;
  pedir parametro porcentajePWM por pantalla (terminal o ventana)&#xD;
  si porcentajePWM > 100 entonces porcentajePWM = 100;&#xD;
  si porcentajePWM &lt; 0 entonces porcentajePWM = 0;&#xD;
  llamar a SMA_LAMP cambiarVelocidadVentilador(porcentajePWM)&#xD;
}&#xD;
*/</body>
              </doActivity>
            </subvertex>
            <subvertex xmi:type="uml:State" xmi:id="_Mps28FQ7Ee2Oldf2clt63Q" name="S5">
              <ownedComment xmi:type="uml:Comment" xmi:id="_IFiVIFRwEe2Oldf2clt63Q" annotatedElement="_Mps28FQ7Ee2Oldf2clt63Q">
                <body>r := X, g :=  X, b :=  X; brillo = X; (igual al estadio anterior)&#xD;
rMem := Y, gMem := Y, bMem := Y, brilloMem := Y; (igual al estadio anterior)</body>
              </ownedComment>
              <doActivity xmi:type="uml:FunctionBehavior" xmi:id="_co9TgFQ8Ee2Oldf2clt63Q" name="BuclePrograma">
                <language>C</language>
                <body>muestraDatosPorSegundo(){&#xD;
while(1){&#xD;
  esperar_1_Segundo;&#xD;
  if pingComprobacionSMALAMP() entonces&#xD;
     obtenerSensoresDisponibles()&#xD;
     int pulsado = entrada(); // Se rellenaría con datos de un botón o terminal&#xD;
     if (pulsado != null)&#xD;
     {&#xD;
         // Se podría abrir en una nueva ventana&#xD;
         cambiarVelocidadVentilador();&#xD;
         cambiarLuz();&#xD;
     }&#xD;
    boolean pulsado2 = entrada(); // Otra entrada distinta nos indicaría si apagamos o no&#xD;
    if (pulsado2) apagar();&#xD;
   else {&#xD;
      printf(&quot;El SMA_LAMP está desconectado, apagando SMP_COMP&quot;)&#xD;
      // Cerrar ventana&#xD;
      break; (salir del bucle)&#xD;
   }&#xD;
}</body>
              </doActivity>
            </subvertex>
            <subvertex xmi:type="uml:State" xmi:id="_zAAOAFQ8Ee2Oldf2clt63Q" name="SMP_COMP apagado">
              <ownedComment xmi:type="uml:Comment" xmi:id="_luO4UFRwEe2Oldf2clt63Q" annotatedElement="_zAAOAFQ8Ee2Oldf2clt63Q">
                <body>r := X, g := X, bMem := X, brillo := X; (igual al estadio anterior)&#xD;
rMem := Y, gMem := Y, bMem := Y, brilloMem := Y; (igual al estadio anterior)</body>
              </ownedComment>
            </subvertex>
            <subvertex xmi:type="uml:State" xmi:id="_484xQFQ-Ee2Oldf2clt63Q" name="S6">
              <ownedComment xmi:type="uml:Comment" xmi:id="_PKeXgFRwEe2Oldf2clt63Q" annotatedElement="_484xQFQ-Ee2Oldf2clt63Q">
                <body>r := rPantalla, g :=  gPantalla, b :=  bPantalla; brillo = brilloPantalla;&#xD;
rMem := r, gMem := g, bMem := b, brilloMem := brillo;</body>
              </ownedComment>
              <doActivity xmi:type="uml:FunctionBehavior" xmi:id="_XdDnoFRCEe2Oldf2clt63Q" name="CambiarValoresPWMyLuz">
                <language>C</language>
                <body>if (opero){&#xD;
  pedir parametro porcentajePWM por pantalla (terminal o ventana)&#xD;
  si porcentajePWM > 100 entonces porcentajePWM = 100;&#xD;
  si porcentajePWM &lt; 0 entonces porcentajePWM = 0;&#xD;
  llamar a SMA_LAMP cambiarVelocidadVentilador(porcentajePWM)&#xD;
}&#xD;
if (opero){&#xD;
  pedir parametro porcentajePWM por pantalla (terminal o ventana)&#xD;
  si porcentajePWM > 100 entonces porcentajePWM = 100;&#xD;
  si porcentajePWM &lt; 0 entonces porcentajePWM = 0;&#xD;
  llamar a SMA_LAMP cambiarVelocidadVentilador(porcentajePWM)&#xD;
}&#xD;
1º pedir parametros 'r', 'g', 'b', 'brillo' por pantalla (terminal o ventana)&#xD;
2º si 'r' o 'g' o 'b'  están por encima de 255, se establecerá a 255. Si 'brillo' está por encima de 31 se establece a 31.&#xD;
Si estan por debajo de 0 pues se establecen a 0.&#xD;
2º llamar a SMA_LAMP cambiarVelocidadVentilador(porcentajePWM)</body>
              </doActivity>
              <entry xmi:type="uml:FunctionBehavior" xmi:id="_0bFSoFRBEe2Oldf2clt63Q" name="entrada">
                <language>C</language>
                <body>// Leo de la entrada</body>
              </entry>
            </subvertex>
          </region>
        </packagedElement>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_uDLuAFBzEe2yaNLydTHFqg" name="Pruebas"/>
    <profileApplication xmi:type="uml:ProfileApplication" xmi:id="_jA7xQFBiEe2hA76gCq675A">
      <eAnnotations xmi:type="ecore:EAnnotation" xmi:id="_jBB34FBiEe2hA76gCq675A" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="http://www.eclipse.org/papyrus/sysml/1.6/SysML#/"/>
      </eAnnotations>
      <appliedProfile xmi:type="uml:Profile" href="pathmap://SysML16_PROFILES/SysML.profile.uml#SysML"/>
    </profileApplication>
    <profileApplication xmi:type="uml:ProfileApplication" xmi:id="_jDyQ8FBiEe2hA76gCq675A">
      <eAnnotations xmi:type="ecore:EAnnotation" xmi:id="_jDyQ8VBiEe2hA76gCq675A" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="http://www.eclipse.org/papyrus/sysml/1.6/SysML#//activities"/>
      </eAnnotations>
      <appliedProfile xmi:type="uml:Profile" href="pathmap://SysML16_PROFILES/SysML.profile.uml#SysML.package_packagedElement_Activities"/>
    </profileApplication>
    <profileApplication xmi:type="uml:ProfileApplication" xmi:id="_jD3JcFBiEe2hA76gCq675A">
      <eAnnotations xmi:type="ecore:EAnnotation" xmi:id="_jD3JcVBiEe2hA76gCq675A" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="http://www.eclipse.org/papyrus/sysml/1.6/SysML#//allocations"/>
      </eAnnotations>
      <appliedProfile xmi:type="uml:Profile" href="pathmap://SysML16_PROFILES/SysML.profile.uml#SysML.package_packagedElement_Allocations"/>
    </profileApplication>
    <profileApplication xmi:type="uml:ProfileApplication" xmi:id="_jD3wgFBiEe2hA76gCq675A">
      <eAnnotations xmi:type="ecore:EAnnotation" xmi:id="_jD3wgVBiEe2hA76gCq675A" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="http://www.eclipse.org/papyrus/sysml/1.6/SysML#//blocks"/>
      </eAnnotations>
      <appliedProfile xmi:type="uml:Profile" href="pathmap://SysML16_PROFILES/SysML.profile.uml#SysML.package_packagedElement_Blocks"/>
    </profileApplication>
    <profileApplication xmi:type="uml:ProfileApplication" xmi:id="_jD3wglBiEe2hA76gCq675A">
      <eAnnotations xmi:type="ecore:EAnnotation" xmi:id="_jD4XkFBiEe2hA76gCq675A" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="http://www.eclipse.org/papyrus/sysml/1.6/SysML#//constraintblocks"/>
      </eAnnotations>
      <appliedProfile xmi:type="uml:Profile" href="pathmap://SysML16_PROFILES/SysML.profile.uml#SysML.package_packagedElement_ConstraintBlocks"/>
    </profileApplication>
    <profileApplication xmi:type="uml:ProfileApplication" xmi:id="_jD4XkVBiEe2hA76gCq675A">
      <eAnnotations xmi:type="ecore:EAnnotation" xmi:id="_jD4XklBiEe2hA76gCq675A" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="http://www.eclipse.org/papyrus/sysml/1.6/SysML#//deprecatedelements"/>
      </eAnnotations>
      <appliedProfile xmi:type="uml:Profile" href="pathmap://SysML16_PROFILES/SysML.profile.uml#SysML.package_packagedElement_DeprecatedElements"/>
    </profileApplication>
    <profileApplication xmi:type="uml:ProfileApplication" xmi:id="_jD4-oFBiEe2hA76gCq675A">
      <eAnnotations xmi:type="ecore:EAnnotation" xmi:id="_jD4-oVBiEe2hA76gCq675A" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="http://www.eclipse.org/papyrus/sysml/1.6/SysML#//modelelements"/>
      </eAnnotations>
      <appliedProfile xmi:type="uml:Profile" href="pathmap://SysML16_PROFILES/SysML.profile.uml#SysML.package_packagedElement_ModelElements"/>
    </profileApplication>
    <profileApplication xmi:type="uml:ProfileApplication" xmi:id="_jD5lsFBiEe2hA76gCq675A">
      <eAnnotations xmi:type="ecore:EAnnotation" xmi:id="_jD5lsVBiEe2hA76gCq675A" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="http://www.eclipse.org/papyrus/sysml/1.6/SysML#//portsandflows"/>
      </eAnnotations>
      <appliedProfile xmi:type="uml:Profile" href="pathmap://SysML16_PROFILES/SysML.profile.uml#SysML.package_packagedElement_Ports_u0026Flows"/>
    </profileApplication>
    <profileApplication xmi:type="uml:ProfileApplication" xmi:id="_jD6MwFBiEe2hA76gCq675A">
      <eAnnotations xmi:type="ecore:EAnnotation" xmi:id="_jD6MwVBiEe2hA76gCq675A" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="http://www.eclipse.org/papyrus/sysml/1.6/SysML#//requirements"/>
      </eAnnotations>
      <appliedProfile xmi:type="uml:Profile" href="pathmap://SysML16_PROFILES/SysML.profile.uml#SysML.package_packagedElement_Requirements"/>
    </profileApplication>
    <profileApplication xmi:type="uml:ProfileApplication" xmi:id="_jD6z0FBiEe2hA76gCq675A">
      <eAnnotations xmi:type="ecore:EAnnotation" xmi:id="_jD6z0VBiEe2hA76gCq675A" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="http://www.eclipse.org/uml2/5.0.0/UML/Profile/Standard#/"/>
      </eAnnotations>
      <appliedProfile xmi:type="uml:Profile" href="pathmap://UML_PROFILES/Standard.profile.uml#_0"/>
    </profileApplication>
    <profileApplication xmi:type="uml:ProfileApplication" xmi:id="_YLx1gFB2Ee2yaNLydTHFqg">
      <eAnnotations xmi:type="ecore:EAnnotation" xmi:id="_YL040FB2Ee2yaNLydTHFqg" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="pathmap://PAPYRUS_ACTIONLANGUAGE_PROFILE/ActionLanguage-Profile.profile.uml#_Kv8EIKFXEeS_KNX0nfvIVQ"/>
      </eAnnotations>
      <appliedProfile xmi:type="uml:Profile" href="pathmap://PAPYRUS_ACTIONLANGUAGE_PROFILE/ActionLanguage-Profile.profile.uml#ActionLanguage"/>
    </profileApplication>
  </uml:Model>
  <Blocks:Block xmi:id="_7B180FBzEe2yaNLydTHFqg" base_Class="_7BjB4FBzEe2yaNLydTHFqg"/>
  <Blocks:Block xmi:id="_LzoNEFB2Ee2yaNLydTHFqg" base_Class="_Lzlw0FB2Ee2yaNLydTHFqg"/>
  <Blocks:Block xmi:id="_OFEEMFB2Ee2yaNLydTHFqg" base_Class="_OFBA4FB2Ee2yaNLydTHFqg"/>
  <Blocks:Block xmi:id="_QGwPIFB2Ee2yaNLydTHFqg" base_Class="_QGty4FB2Ee2yaNLydTHFqg"/>
  <Blocks:Block xmi:id="_k_upIFB2Ee2yaNLydTHFqg" base_Class="_k_rl0FB2Ee2yaNLydTHFqg"/>
  <Blocks:Block xmi:id="_J_1HMFN2Ee2yaNLydTHFqg" base_Class="_J_cssFN2Ee2yaNLydTHFqg"/>
  <Blocks:Block xmi:id="_LhOc8FOAEe2yaNLydTHFqg" base_Class="_LhNO0FOAEe2yaNLydTHFqg"/>
  <Blocks:Block xmi:id="_rfE5oFOAEe2yaNLydTHFqg" base_Class="_rfDrgFOAEe2yaNLydTHFqg"/>
  <Blocks:Block xmi:id="_b2iCAFOBEe2yaNLydTHFqg" base_Class="_b2gz4FOBEe2yaNLydTHFqg"/>
  <Blocks:Block xmi:id="_uJk7kFOBEe2yaNLydTHFqg" base_Class="_uJkUgFOBEe2yaNLydTHFqg"/>
</xmi:XMI>
